<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>HoTTEST Summer School 2022 Lecture Notes</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;0,800;1,400;1,500;1,600;1,700;1,800&family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
</head>

<body class="text-page">
<main>
<div id="post-toc-container" style="padding-left: 1em; padding-right: 1em;">

  <article>

<h1 id="week-7---cubical-agda-exercises">Week 7 - Cubical Agda
Exercises</h1>
<h2 id="standard-disclaimer">Standard disclaimer:</h2>
<p><strong>The exercises are designed to increase in difficulty so that
we can cater to our large and diverse audience. This also means that it
is <em>perfectly fine</em> if you don’t manage to do all exercises: some
of them are definitely a bit hard for beginners and there are likely too
many exercises! You <em>may</em> wish to come back to them later when
you have learned more.</strong></p>
<p>Having said that, here we go!</p>
<p>In case you haven’t done the other Agda exercises: This is a markdown
file with Agda code, which means that it displays nicely on GitHub, but
at the same time you can load this file in Agda and fill the holes to
solve exercises.</p>
<p><strong>When solving the problems, please make a copy of this file to
work in, so that it doesn’t get overwritten (in case we update the
exercises through <code>git</code>)!</strong></p>
<pre class="Agda"><a id="854" class="Symbol">{-#</a> <a id="858" class="Keyword">OPTIONS</a> <a id="866" class="Pragma">--cubical</a> <a id="876" class="Pragma">--allow-unsolved-metas</a> <a id="899" class="Symbol">#-}</a>

<a id="904" class="Keyword">module</a> <a id="911" href="Exercises7.html" class="Module">Exercises7</a> <a id="922" class="Keyword">where</a>

<a id="929" class="Keyword">open</a> <a id="934" class="Keyword">import</a> <a id="941" href="cubical-prelude.html" class="Module">cubical-prelude</a>
<a id="957" class="Keyword">open</a> <a id="962" class="Keyword">import</a> <a id="969" href="Lecture7-notes.html" class="Module">Lecture7-notes</a>
</pre>
<pre class="Agda"><a id="997" class="Keyword">private</a>
  <a id="1007" class="Keyword">variable</a>
    <a id="1020" href="Exercises7.html#1020" class="Generalizable">A</a> <a id="1022" class="Symbol">:</a> <a id="1024" href="Agda.Primitive.html#388" data-type="Set₁" class="Primitive">Type</a> <a id="1029" href="cubical-prelude.html#2217" data-type="lecture3.Level" class="Generalizable">ℓ</a>
    <a id="1035" href="Exercises7.html#1035" class="Generalizable">B</a> <a id="1037" class="Symbol">:</a> <a id="1039" href="Exercises7.html#1020" class="Generalizable">A</a> <a id="1041" class="Symbol">→</a> <a id="1043" href="Agda.Primitive.html#388" data-type="Set₁" class="Primitive">Type</a> <a id="1048" href="cubical-prelude.html#2217" data-type="lecture3.Level" class="Generalizable">ℓ</a>
</pre>
<h2 id="part-i-generalizing-to-dependent-functions">Part I: Generalizing
to dependent functions</h2>
<h3 id="exercise-1">Exercise 1 (★)</h3>
<p>State and prove funExt for dependent functions
<code>f g : (x : A) → B x</code></p>
<h3 id="exercise-2">Exercise 2 (★)</h3>
<p>Generalize the type of ap to dependent function
<code>f : (x : A) → B x</code> (hint: the result should be a
<code>PathP</code>)</p>
<h2 id="part-ii-some-facts-about-homotopy-propositions-and-sets">Part
II: Some facts about (homotopy) propositions and sets</h2>
<p>The first three homotopy levels <code>isContr</code>,
<code>isProp</code> and <code>isSet</code> are defined in
<code>cubical-prelude</code> in the usual way (only using path types of
course).</p>
<h3 id="exercise-3">Exercise 3 (★)</h3>
<p>State and prove that inhabited propositions are contractible</p>
<h3 id="exercise-4">Exercise 4 (★)</h3>
<p>Prove</p>
<pre class="Agda"><a id="isPropΠ"></a><a id="1653" href="Exercises7.html#1653" data-type="((x : A) → isProp (B x)) → isProp ((x : A) → B x)" class="Function">isPropΠ</a> <a id="1661" class="Symbol">:</a> <a id="1663" class="Symbol">(</a><a id="1664" href="Exercises7.html#1664" class="Bound">h</a> <a id="1666" class="Symbol">:</a> <a id="1668" class="Symbol">(</a><a id="1669" href="Exercises7.html#1669" class="Bound">x</a> <a id="1671" class="Symbol">:</a> <a id="1673" href="Exercises7.html#1020" class="Generalizable">A</a><a id="1674" class="Symbol">)</a> <a id="1676" class="Symbol">→</a> <a id="1678" href="cubical-prelude.html#4047" data-type="Set ℓ → Set ℓ" class="Function">isProp</a> <a id="1685" class="Symbol">(</a><a id="1686" href="Exercises7.html#1035" class="Generalizable">B</a> <a id="1688" href="Exercises7.html#1669" class="Bound">x</a><a id="1689" class="Symbol">))</a> <a id="1692" class="Symbol">→</a> <a id="1694" href="cubical-prelude.html#4047" data-type="Set ℓ → Set ℓ" class="Function">isProp</a> <a id="1701" class="Symbol">((</a><a id="1703" href="Exercises7.html#1703" class="Bound">x</a> <a id="1705" class="Symbol">:</a> <a id="1707" href="Exercises7.html#1020" class="Generalizable">A</a><a id="1708" class="Symbol">)</a> <a id="1710" class="Symbol">→</a> <a id="1712" href="Exercises7.html#1035" class="Generalizable">B</a> <a id="1714" href="Exercises7.html#1703" class="Bound">x</a><a id="1715" class="Symbol">)</a>
<a id="1717" href="Exercises7.html#1653" data-type="((x : A) → isProp (B x)) → isProp ((x : A) → B x)" class="Function">isPropΠ</a> <a id="1725" class="Symbol">=</a> <a id="1727" class="Hole">{!!}</a>
</pre>
<h3 id="exercise-5">Exercise 5 (★)</h3>
<p>Prove the inverse of <code>funExt</code> (sometimes called
<code>happly</code>):</p>
<pre class="Agda"><a id="funExt⁻"></a><a id="1825" href="Exercises7.html#1825" data-type="f ≡ g → (x : A) → f x ≡ g x" class="Function">funExt⁻</a> <a id="1833" class="Symbol">:</a> <a id="1835" class="Symbol">{</a><a id="1836" href="Exercises7.html#1836" class="Bound">f</a> <a id="1838" href="Exercises7.html#1838" class="Bound">g</a> <a id="1840" class="Symbol">:</a> <a id="1842" class="Symbol">(</a><a id="1843" href="Exercises7.html#1843" class="Bound">x</a> <a id="1845" class="Symbol">:</a> <a id="1847" href="Exercises7.html#1020" class="Generalizable">A</a><a id="1848" class="Symbol">)</a> <a id="1850" class="Symbol">→</a> <a id="1852" href="Exercises7.html#1035" class="Generalizable">B</a> <a id="1854" href="Exercises7.html#1843" class="Bound">x</a><a id="1855" class="Symbol">}</a> <a id="1857" class="Symbol">→</a> <a id="1859" href="Exercises7.html#1836" class="Bound">f</a> <a id="1861" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="1863" href="Exercises7.html#1838" class="Bound">g</a> <a id="1865" class="Symbol">→</a> <a id="1867" class="Symbol">((</a><a id="1869" href="Exercises7.html#1869" class="Bound">x</a> <a id="1871" class="Symbol">:</a> <a id="1873" href="Exercises7.html#1020" class="Generalizable">A</a><a id="1874" class="Symbol">)</a> <a id="1876" class="Symbol">→</a> <a id="1878" href="Exercises7.html#1836" class="Bound">f</a> <a id="1880" href="Exercises7.html#1869" class="Bound">x</a> <a id="1882" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="1884" href="Exercises7.html#1838" class="Bound">g</a> <a id="1886" href="Exercises7.html#1869" class="Bound">x</a><a id="1887" class="Symbol">)</a>
<a id="1889" href="Exercises7.html#1825" data-type="f ≡ g → (x : A) → f x ≡ g x" class="Function">funExt⁻</a>  <a id="1898" class="Symbol">=</a> <a id="1900" class="Hole">{!!}</a>
</pre>
<h3 id="exercise-6">Exercise 6 (★★)</h3>
<p>Use funExt⁻ to prove isSetΠ:</p>
<pre class="Agda"><a id="isSetΠ"></a><a id="1969" href="Exercises7.html#1969" data-type="((x : A) → isSet (B x)) → isSet ((x : A) → B x)" class="Function">isSetΠ</a> <a id="1976" class="Symbol">:</a> <a id="1978" class="Symbol">(</a><a id="1979" href="Exercises7.html#1979" class="Bound">h</a> <a id="1981" class="Symbol">:</a> <a id="1983" class="Symbol">(</a><a id="1984" href="Exercises7.html#1984" class="Bound">x</a> <a id="1986" class="Symbol">:</a> <a id="1988" href="Exercises7.html#1020" class="Generalizable">A</a><a id="1989" class="Symbol">)</a> <a id="1991" class="Symbol">→</a> <a id="1993" href="cubical-prelude.html#4102" data-type="Set ℓ → Set ℓ" class="Function">isSet</a> <a id="1999" class="Symbol">(</a><a id="2000" href="Exercises7.html#1035" class="Generalizable">B</a> <a id="2002" href="Exercises7.html#1984" class="Bound">x</a><a id="2003" class="Symbol">))</a> <a id="2006" class="Symbol">→</a> <a id="2008" href="cubical-prelude.html#4102" data-type="Set ℓ → Set ℓ" class="Function">isSet</a> <a id="2014" class="Symbol">((</a><a id="2016" href="Exercises7.html#2016" class="Bound">x</a> <a id="2018" class="Symbol">:</a> <a id="2020" href="Exercises7.html#1020" class="Generalizable">A</a><a id="2021" class="Symbol">)</a> <a id="2023" class="Symbol">→</a> <a id="2025" href="Exercises7.html#1035" class="Generalizable">B</a> <a id="2027" href="Exercises7.html#2016" class="Bound">x</a><a id="2028" class="Symbol">)</a>
<a id="2030" href="Exercises7.html#1969" data-type="((x : A) → isSet (B x)) → isSet ((x : A) → B x)" class="Function">isSetΠ</a> <a id="2037" class="Symbol">=</a> <a id="2039" class="Hole">{!!}</a>
</pre>
<h3 id="exercise-7-alternative-contractibility-of-singletons">Exercise 7
(★★★): alternative contractibility of singletons</h3>
<p>We could have defined the type of singletons as follows</p>
<pre class="Agda"><a id="singl&#39;"></a><a id="2179" href="Exercises7.html#2179" data-type="A → Set ℓ" class="Function">singl&#39;</a> <a id="2186" class="Symbol">:</a> <a id="2188" class="Symbol">{</a><a id="2189" href="Exercises7.html#2189" class="Bound">A</a> <a id="2191" class="Symbol">:</a> <a id="2193" href="Agda.Primitive.html#388" data-type="Set₁" class="Primitive">Type</a> <a id="2198" href="cubical-prelude.html#2217" data-type="lecture3.Level" class="Generalizable">ℓ</a><a id="2199" class="Symbol">}</a> <a id="2201" class="Symbol">(</a><a id="2202" href="Exercises7.html#2202" class="Bound">a</a> <a id="2204" class="Symbol">:</a> <a id="2206" href="Exercises7.html#2189" class="Bound">A</a><a id="2207" class="Symbol">)</a> <a id="2209" class="Symbol">→</a> <a id="2211" href="Agda.Primitive.html#388" data-type="Set₁" class="Primitive">Type</a> <a id="2216" href="cubical-prelude.html#2217" data-type="lecture3.Level" class="Generalizable">ℓ</a>
<a id="2218" href="Exercises7.html#2179" data-type="A → Set ℓ" class="Function">singl&#39;</a> <a id="2225" class="Symbol">{</a><a id="2226" class="Argument">A</a> <a id="2228" class="Symbol">=</a> <a id="2230" href="Exercises7.html#2230" class="Bound">A</a><a id="2231" class="Symbol">}</a> <a id="2233" href="Exercises7.html#2233" class="Bound">a</a> <a id="2235" class="Symbol">=</a> <a id="2237" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">Σ</a> <a id="2239" href="Exercises7.html#2239" class="Bound">x</a> <a id="2241" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">꞉</a> <a id="2243" href="Exercises7.html#2230" class="Bound">A</a> <a id="2245" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">,</a> <a id="2247" href="Exercises7.html#2239" class="Bound">x</a> <a id="2249" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="2251" href="Exercises7.html#2233" class="Bound">a</a>
</pre>
<p>Prove the corresponding version of contractibility of singetons for
<code>singl'</code> (hint: use a suitable combinations of connections
and <code>~_</code>)</p>
<pre class="Agda"><a id="isContrSingl&#39;"></a><a id="2404" href="Exercises7.html#2404" data-type="(x : A) → isContr (Exercises7.singl&#39; x)" class="Function">isContrSingl&#39;</a> <a id="2418" class="Symbol">:</a> <a id="2420" class="Symbol">(</a><a id="2421" href="Exercises7.html#2421" class="Bound">x</a> <a id="2423" class="Symbol">:</a> <a id="2425" href="Exercises7.html#1020" class="Generalizable">A</a><a id="2426" class="Symbol">)</a> <a id="2428" class="Symbol">→</a> <a id="2430" href="cubical-prelude.html#3980" data-type="Set ℓ → Set ℓ" class="Function">isContr</a> <a id="2438" class="Symbol">(</a><a id="2439" href="Exercises7.html#2179" data-type="A → Set ℓ" class="Function">singl&#39;</a> <a id="2446" href="Exercises7.html#2421" class="Bound">x</a><a id="2447" class="Symbol">)</a>
<a id="2449" href="Exercises7.html#2404" data-type="(x : A) → isContr (Exercises7.singl&#39; x)" class="Function">isContrSingl&#39;</a> <a id="2463" href="Exercises7.html#2463" class="Bound">x</a> <a id="2465" class="Symbol">=</a> <a id="2467" class="Hole">{!!}</a>
</pre>
<h2 id="part-iii-equality-in-σ-types">Part III: Equality in Σ-types</h2>
<h3 id="exercise-8">Exercise 8 (★★)</h3>
<p>Having the primitive notion of equality be heterogeneous is an easily
overlooked, but very important, strength of cubical type theory. This
allows us to work directly with equality in Σ-types without using
transport.</p>
<p>Fill the following holes (some of them are easier than you might
think):</p>
<pre class="Agda"><a id="2831" class="Keyword">module</a> <a id="2838" href="Exercises7.html#2838" class="Module">_</a> <a id="2840" class="Symbol">{</a><a id="2841" href="Exercises7.html#2841" class="Bound">A</a> <a id="2843" class="Symbol">:</a> <a id="2845" href="Agda.Primitive.html#388" data-type="Set₁" class="Primitive">Type</a> <a id="2850" href="cubical-prelude.html#2217" data-type="lecture3.Level" class="Generalizable">ℓ</a><a id="2851" class="Symbol">}</a> <a id="2853" class="Symbol">{</a><a id="2854" href="Exercises7.html#2854" class="Bound">B</a> <a id="2856" class="Symbol">:</a> <a id="2858" href="Exercises7.html#2841" class="Bound">A</a> <a id="2860" class="Symbol">→</a> <a id="2862" href="Agda.Primitive.html#388" data-type="Set₁" class="Primitive">Type</a> <a id="2867" href="cubical-prelude.html#2219" data-type="lecture3.Level" class="Generalizable">ℓ&#39;</a><a id="2869" class="Symbol">}</a> <a id="2871" class="Symbol">{</a><a id="2872" href="Exercises7.html#2872" class="Bound">x</a> <a id="2874" href="Exercises7.html#2874" class="Bound">y</a> <a id="2876" class="Symbol">:</a> <a id="2878" href="Agda.Builtin.Sigma.html#165" data-type="(A : Set a) (B : A → Set b) → Set (a lecture3.⊔ b)" class="Record">Σ</a> <a id="2880" href="Exercises7.html#2841" class="Bound">A</a> <a id="2882" href="Exercises7.html#2854" class="Bound">B</a><a id="2883" class="Symbol">}</a> <a id="2885" class="Keyword">where</a>

  <a id="2894" href="Exercises7.html#2894" data-type="Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y)) →
x ≡ y" class="Function">ΣPathP</a> <a id="2901" class="Symbol">:</a> <a id="2903" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">Σ</a> <a id="2905" href="Exercises7.html#2905" class="Bound">p</a> <a id="2907" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">꞉</a> <a id="2909" href="cubical-prelude.html#3652" class="Field">pr₁</a> <a id="2913" href="Exercises7.html#2872" class="Bound">x</a> <a id="2915" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="2917" href="cubical-prelude.html#3652" class="Field">pr₁</a> <a id="2921" href="Exercises7.html#2874" class="Bound">y</a> <a id="2923" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">,</a> <a id="2925" href="Agda.Primitive.Cubical.html#2013" data-type="(A : I → Set ℓ) →
A Agda.Primitive.Cubical.i0 → A Agda.Primitive.Cubical.i1 → Set ℓ" class="Postulate">PathP</a> <a id="2931" class="Symbol">(λ</a> <a id="2934" href="Exercises7.html#2934" class="Bound">i</a> <a id="2936" class="Symbol">→</a> <a id="2938" href="Exercises7.html#2854" class="Bound">B</a> <a id="2940" class="Symbol">(</a><a id="2941" href="Exercises7.html#2905" class="Bound">p</a> <a id="2943" href="Exercises7.html#2934" class="Bound">i</a><a id="2944" class="Symbol">))</a> <a id="2947" class="Symbol">(</a><a id="2948" href="cubical-prelude.html#3665" class="Field">pr₂</a> <a id="2952" href="Exercises7.html#2872" class="Bound">x</a><a id="2953" class="Symbol">)</a> <a id="2955" class="Symbol">(</a><a id="2956" href="cubical-prelude.html#3665" class="Field">pr₂</a> <a id="2960" href="Exercises7.html#2874" class="Bound">y</a><a id="2961" class="Symbol">)</a>
         <a id="2972" class="Symbol">→</a> <a id="2974" href="Exercises7.html#2872" class="Bound">x</a> <a id="2976" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="2978" href="Exercises7.html#2874" class="Bound">y</a>
  <a id="2982" href="Exercises7.html#2894" data-type="Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y)) →
x ≡ y" class="Function">ΣPathP</a> <a id="2989" class="Symbol">=</a> <a id="2991" class="Hole">{!!}</a>

  <a id="2999" href="Exercises7.html#2999" data-type="x ≡ y →
Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y))" class="Function">PathPΣ</a> <a id="3006" class="Symbol">:</a> <a id="3008" href="Exercises7.html#2872" class="Bound">x</a> <a id="3010" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="3012" href="Exercises7.html#2874" class="Bound">y</a>
         <a id="3023" class="Symbol">→</a> <a id="3025" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">Σ</a> <a id="3027" href="Exercises7.html#3027" class="Bound">p</a> <a id="3029" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">꞉</a> <a id="3031" href="cubical-prelude.html#3652" class="Field">pr₁</a> <a id="3035" href="Exercises7.html#2872" class="Bound">x</a> <a id="3037" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="3039" href="cubical-prelude.html#3652" class="Field">pr₁</a> <a id="3043" href="Exercises7.html#2874" class="Bound">y</a> <a id="3045" href="cubical-prelude.html#3671" data-type="(A : Set l1) → (A → Set l2) → Set (l1 lecture3.⊔ l2)" class="Function">,</a> <a id="3047" href="Agda.Primitive.Cubical.html#2013" data-type="(A : I → Set ℓ) →
A Agda.Primitive.Cubical.i0 → A Agda.Primitive.Cubical.i1 → Set ℓ" class="Postulate">PathP</a> <a id="3053" class="Symbol">(λ</a> <a id="3056" href="Exercises7.html#3056" class="Bound">i</a> <a id="3058" class="Symbol">→</a> <a id="3060" href="Exercises7.html#2854" class="Bound">B</a> <a id="3062" class="Symbol">(</a><a id="3063" href="Exercises7.html#3027" class="Bound">p</a> <a id="3065" href="Exercises7.html#3056" class="Bound">i</a><a id="3066" class="Symbol">))</a> <a id="3069" class="Symbol">(</a><a id="3070" href="cubical-prelude.html#3665" class="Field">pr₂</a> <a id="3074" href="Exercises7.html#2872" class="Bound">x</a><a id="3075" class="Symbol">)</a> <a id="3077" class="Symbol">(</a><a id="3078" href="cubical-prelude.html#3665" class="Field">pr₂</a> <a id="3082" href="Exercises7.html#2874" class="Bound">y</a><a id="3083" class="Symbol">)</a>
  <a id="3087" href="Exercises7.html#2999" data-type="x ≡ y →
Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y))" class="Function">PathPΣ</a> <a id="3094" class="Symbol">=</a> <a id="3096" class="Hole">{!!}</a>

  <a id="3104" href="Exercises7.html#3104" data-type="(p
 : Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
   (λ p₁ →
      PathP (λ i → B (p₁ i)) (Agda.Builtin.Sigma.Σ.snd x)
      (Agda.Builtin.Sigma.Σ.snd y))) →
Exercises7.PathPΣ (Exercises7.ΣPathP p) ≡ p" class="Function">ΣPathP-PathPΣ</a> <a id="3118" class="Symbol">:</a> <a id="3120" class="Symbol">∀</a> <a id="3122" href="Exercises7.html#3122" class="Bound">p</a> <a id="3124" class="Symbol">→</a> <a id="3126" href="Exercises7.html#2999" data-type="x ≡ y →
Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y))" class="Function">PathPΣ</a> <a id="3133" class="Symbol">(</a><a id="3134" href="Exercises7.html#2894" data-type="Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y)) →
x ≡ y" class="Function">ΣPathP</a> <a id="3141" href="Exercises7.html#3122" class="Bound">p</a><a id="3142" class="Symbol">)</a> <a id="3144" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="3146" href="Exercises7.html#3122" class="Bound">p</a>
  <a id="3150" href="Exercises7.html#3104" data-type="(p
 : Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
   (λ p₁ →
      PathP (λ i → B (p₁ i)) (Agda.Builtin.Sigma.Σ.snd x)
      (Agda.Builtin.Sigma.Σ.snd y))) →
Exercises7.PathPΣ (Exercises7.ΣPathP p) ≡ p" class="Function">ΣPathP-PathPΣ</a> <a id="3164" class="Symbol">=</a> <a id="3166" class="Hole">{!!}</a>

  <a id="3174" href="Exercises7.html#3174" data-type="(p : x ≡ y) → Exercises7.ΣPathP (Exercises7.PathPΣ p) ≡ p" class="Function">PathPΣ-ΣPathP</a> <a id="3188" class="Symbol">:</a> <a id="3190" class="Symbol">∀</a> <a id="3192" href="Exercises7.html#3192" class="Bound">p</a> <a id="3194" class="Symbol">→</a> <a id="3196" href="Exercises7.html#2894" data-type="Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y)) →
x ≡ y" class="Function">ΣPathP</a> <a id="3203" class="Symbol">(</a><a id="3204" href="Exercises7.html#2999" data-type="x ≡ y →
Sigma (Agda.Builtin.Sigma.Σ.fst x ≡ Agda.Builtin.Sigma.Σ.fst y)
(λ p →
   PathP (λ i → B (p i)) (Agda.Builtin.Sigma.Σ.snd x)
   (Agda.Builtin.Sigma.Σ.snd y))" class="Function">PathPΣ</a> <a id="3211" href="Exercises7.html#3192" class="Bound">p</a><a id="3212" class="Symbol">)</a> <a id="3214" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="3216" href="Exercises7.html#3192" class="Bound">p</a>
  <a id="3220" href="Exercises7.html#3174" data-type="(p : x ≡ y) → Exercises7.ΣPathP (Exercises7.PathPΣ p) ≡ p" class="Function">PathPΣ-ΣPathP</a> <a id="3234" class="Symbol">=</a> <a id="3236" class="Hole">{!!}</a>
</pre>
<p>If one looks carefully the proof of prf in Lecture 7 uses ΣPathP
inlined, in fact this is used all over the place when working cubically
and simplifies many proofs which in Book HoTT requires long complicated
reasoning about transport.</p>
<h2 id="part-iv-some-hits">Part IV: Some HITs</h2>
<p>Now we want prove some identities of HITs analogous to
<code>Torus ≡ S¹ × S¹</code> Hint: you can just use
<code>isoToPath</code> in all of them.</p>
<h3 id="exercise-9">Exercise 9 (★★)</h3>
<p>We saw two definitions of the torus: <code>Torus</code> having a
dependent path constructor <code>square</code> and <code>Torus'</code>
with a path constructor <code>square</code> that involves
composition.</p>
<p>Using these two ideas, define the <em>Klein bottle</em> in two
different ways.</p>
<h3 id="exercise-10">Exercise 10 (★★)</h3>
<p>Prove</p>
<pre class="Agda"><a id="suspUnitChar"></a><a id="3928" href="Exercises7.html#3928" data-type="Susp Unit ≡ Interval" class="Function">suspUnitChar</a> <a id="3941" class="Symbol">:</a> <a id="3943" href="Lecture7-notes.html#14442" data-type="Set ℓ → Set ℓ" class="Datatype">Susp</a> <a id="3948" href="cubical-prelude.html#9429" data-type="Set" class="Record">Unit</a> <a id="3953" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="3955" href="Lecture7-notes.html#14330" data-type="Set" class="Datatype">Interval</a>
<a id="3964" href="Exercises7.html#3928" data-type="Susp Unit ≡ Interval" class="Function">suspUnitChar</a> <a id="3977" class="Symbol">=</a> <a id="3979" class="Hole">{!!}</a>
</pre>
<h3 id="exercise-11">Exercise 11 (★★★)</h3>
<p>Define suspension using the Pushout HIT and prove that it’s equal to
Susp.</p>
<h3 id="exercise-12">Exercise 12 (🌶)</h3>
<p>The goal of this exercise is to prove</p>
<pre class="Agda"><a id="suspBoolChar"></a><a id="4158" href="Exercises7.html#4158" data-type="Susp Bool ≡ S¹" class="Function">suspBoolChar</a> <a id="4171" class="Symbol">:</a> <a id="4173" href="Lecture7-notes.html#14442" data-type="Set ℓ → Set ℓ" class="Datatype">Susp</a> <a id="4178" href="cubical-prelude.html#9488" data-type="Set" class="Datatype">Bool</a> <a id="4183" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="4185" href="Lecture7-notes.html#10680" data-type="Set" class="Datatype">S¹</a>
<a id="4188" href="Exercises7.html#4158" data-type="Susp Bool ≡ S¹" class="Function">suspBoolChar</a> <a id="4201" class="Symbol">=</a> <a id="4203" class="Hole">{!!}</a>
</pre>
<p>For the map <code>Susp Bool → S¹</code>, we have to specify the
behavior of two path constructors. The idea is to map one to
<code>loop</code> and one to <code>refl</code>.</p>
<p>For the other direction, we have to fix one base point in
<code>Susp Bool</code> and give a non-trivial loop on it, i.e. one that
shouldn’t cancel out to <code>refl</code>.</p>
<p>Proving that the two maps cancel each other requires some primitives
of <code>Cubical Agda</code> that we won’t really discuss in the
lectures, namely <code>hcomp</code> and <code>hfill</code>. These are
used (among other things) to define path composition and ensure that it
behaves correctly.</p>
<p>Path composition corresponds to the top of the following square:</p>
<pre class="text"><code>            p∙q
       x --------&gt; z
       ^           ^
       ¦           ¦
  refl ¦     sq    ¦ q
       ¦           ¦
       ¦           ¦
       x --------&gt; y
             p</code></pre>
<p>The type of <code>sq</code> is a <code>PathP</code> sending
<code>p</code> to <code>p ∙ q</code> over <code>q</code> and the
following lemma lets us construct such a <em>square</em>:</p>
<pre class="Agda"><a id="comp-filler"></a><a id="5158" href="Exercises7.html#5158" data-type="(p : x ≡ y) (q : y ≡ z) → PathP (λ j → refl j ≡ q j) p (p ∙ q)" class="Function">comp-filler</a> <a id="5170" class="Symbol">:</a> <a id="5172" class="Symbol">{</a><a id="5173" href="Exercises7.html#5173" class="Bound">x</a> <a id="5175" href="Exercises7.html#5175" class="Bound">y</a> <a id="5177" href="Exercises7.html#5177" class="Bound">z</a> <a id="5179" class="Symbol">:</a> <a id="5181" href="Exercises7.html#1020" class="Generalizable">A</a><a id="5182" class="Symbol">}</a> <a id="5184" class="Symbol">(</a><a id="5185" href="Exercises7.html#5185" class="Bound">p</a> <a id="5187" class="Symbol">:</a> <a id="5189" href="Exercises7.html#5173" class="Bound">x</a> <a id="5191" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="5193" href="Exercises7.html#5175" class="Bound">y</a><a id="5194" class="Symbol">)</a> <a id="5196" class="Symbol">(</a><a id="5197" href="Exercises7.html#5197" class="Bound">q</a> <a id="5199" class="Symbol">:</a> <a id="5201" href="Exercises7.html#5175" class="Bound">y</a> <a id="5203" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="5205" href="Exercises7.html#5177" class="Bound">z</a><a id="5206" class="Symbol">)</a>
            <a id="5220" class="Symbol">→</a> <a id="5222" href="Agda.Primitive.Cubical.html#2013" data-type="(A : I → Set ℓ) →
A Agda.Primitive.Cubical.i0 → A Agda.Primitive.Cubical.i1 → Set ℓ" class="Postulate">PathP</a> <a id="5228" class="Symbol">(λ</a> <a id="5231" href="Exercises7.html#5231" class="Bound">j</a> <a id="5233" class="Symbol">→</a> <a id="5235" href="Lecture7-notes.html#3585" data-type="x ≡ x" class="Function">refl</a> <a id="5240" class="Symbol">{</a><a id="5241" class="Argument">x</a> <a id="5243" class="Symbol">=</a> <a id="5245" href="Exercises7.html#5173" class="Bound">x</a><a id="5246" class="Symbol">}</a> <a id="5248" href="Exercises7.html#5231" class="Bound">j</a> <a id="5250" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="5252" href="Exercises7.html#5197" class="Bound">q</a> <a id="5254" href="Exercises7.html#5231" class="Bound">j</a><a id="5255" class="Symbol">)</a> <a id="5257" href="Exercises7.html#5185" class="Bound">p</a> <a id="5259" class="Symbol">(</a><a id="5260" href="Exercises7.html#5185" class="Bound">p</a> <a id="5262" href="cubical-prelude.html#2514" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5264" href="Exercises7.html#5197" class="Bound">q</a><a id="5265" class="Symbol">)</a>
<a id="5267" href="Exercises7.html#5158" data-type="(p : x ≡ y) (q : y ≡ z) → PathP (λ j → refl j ≡ q j) p (p ∙ q)" class="Function">comp-filler</a> <a id="5279" class="Symbol">{</a><a id="5280" class="Argument">x</a> <a id="5282" class="Symbol">=</a> <a id="5284" href="Exercises7.html#5284" class="Bound">x</a><a id="5285" class="Symbol">}</a> <a id="5287" href="Exercises7.html#5287" class="Bound">p</a> <a id="5289" href="Exercises7.html#5289" class="Bound">q</a> <a id="5291" href="Exercises7.html#5291" class="Bound">j</a> <a id="5293" href="Exercises7.html#5293" class="Bound">i</a> <a id="5295" class="Symbol">=</a> <a id="5297" href="cubical-prelude.html#3279" data-type="(u : I → Partial φ A) →
A [ φ ↦ u Agda.Primitive.Cubical.i0 ] → I → A" class="Function">hfill</a> <a id="5303" class="Symbol">(λ</a> <a id="5306" href="Exercises7.html#5306" class="Bound">k</a> <a id="5308" class="Symbol">→</a> <a id="5310" class="Symbol">λ</a> <a id="5312" class="Symbol">{</a> <a id="5314" class="Symbol">(</a><a id="5315" href="Exercises7.html#5293" class="Bound">i</a> <a id="5317" class="Symbol">=</a> <a id="5319" href="Agda.Primitive.Cubical.html#193" data-type="I" class="InductiveConstructor">i0</a><a id="5321" class="Symbol">)</a> <a id="5323" class="Symbol">→</a> <a id="5325" href="Exercises7.html#5284" class="Bound">x</a>
                                              <a id="5373" class="Symbol">;</a> <a id="5375" class="Symbol">(</a><a id="5376" href="Exercises7.html#5293" class="Bound">i</a> <a id="5378" class="Symbol">=</a> <a id="5380" href="Agda.Primitive.Cubical.html#221" data-type="I" class="InductiveConstructor">i1</a><a id="5382" class="Symbol">)</a> <a id="5384" class="Symbol">→</a> <a id="5386" href="Exercises7.html#5289" class="Bound">q</a> <a id="5388" href="Exercises7.html#5306" class="Bound">k</a> <a id="5390" class="Symbol">})</a>
                                    <a id="5429" class="Symbol">(</a><a id="5430" href="Agda.Builtin.Cubical.Sub.html#196" data-type="(x : A) → Sub A φ (λ ._ → x)" class="Postulate">inS</a> <a id="5434" class="Symbol">(</a><a id="5435" href="Exercises7.html#5287" class="Bound">p</a> <a id="5437" href="Exercises7.html#5293" class="Bound">i</a><a id="5438" class="Symbol">))</a> <a id="5441" href="Exercises7.html#5291" class="Bound">j</a>
</pre>
<p>You can use this <code>comp-filler</code> as a black-box for proving
the round-trips in this exercise.</p>
<p><strong>Hint:</strong> For one of the round-trips you only need the
following familiar result, that is a direct consequence of
<code>comp-filler</code> in <code>Cubical Agda</code></p>
<pre class="Agda"><a id="rUnit"></a><a id="5696" href="Exercises7.html#5696" data-type="(p : x ≡ y) → (p ∙ refl) ≡ p" class="Function">rUnit</a> <a id="5702" class="Symbol">:</a> <a id="5704" class="Symbol">{</a><a id="5705" href="Exercises7.html#5705" class="Bound">x</a> <a id="5707" href="Exercises7.html#5707" class="Bound">y</a> <a id="5709" class="Symbol">:</a> <a id="5711" href="Exercises7.html#1020" class="Generalizable">A</a><a id="5712" class="Symbol">}</a> <a id="5714" class="Symbol">(</a><a id="5715" href="Exercises7.html#5715" class="Bound">p</a> <a id="5717" class="Symbol">:</a> <a id="5719" href="Exercises7.html#5705" class="Bound">x</a> <a id="5721" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="5723" href="Exercises7.html#5707" class="Bound">y</a><a id="5724" class="Symbol">)</a> <a id="5726" class="Symbol">→</a> <a id="5728" href="Exercises7.html#5715" class="Bound">p</a> <a id="5730" href="cubical-prelude.html#2514" data-type="x ≡ y → y ≡ z → x ≡ z" class="Function Operator">∙</a> <a id="5732" href="Lecture7-notes.html#3585" data-type="x ≡ x" class="Function">refl</a> <a id="5737" href="Agda.Builtin.Cubical.Path.html#272" data-type="A → A → Set ℓ" class="Function Operator">≡</a> <a id="5739" href="Exercises7.html#5715" class="Bound">p</a>
<a id="5741" href="Exercises7.html#5696" data-type="(p : x ≡ y) → (p ∙ refl) ≡ p" class="Function">rUnit</a> <a id="5747" href="Exercises7.html#5747" class="Bound">p</a> <a id="5749" class="Symbol">=</a> <a id="5751" href="Lecture7-notes.html#6920" data-type="x ≡ y → y ≡ x" class="Function">sym</a> <a id="5755" class="Symbol">(</a><a id="5756" href="Exercises7.html#5158" data-type="(p : x ≡ y) (q : y ≡ z) → PathP (λ j → refl j ≡ q j) p (p ∙ q)" class="Function">comp-filler</a> <a id="5768" href="Exercises7.html#5747" class="Bound">p</a> <a id="5770" href="Lecture7-notes.html#3585" data-type="x ≡ x" class="Function">refl</a><a id="5774" class="Symbol">)</a>
</pre>

  </article>
</div>
</main>
</body>
<style>

:root {
  --text-bg: #fff;
  --text-fg: #222;
  --shadow: #000;
  --primary: #0054F4;
  --secondary: #9C1BD6;
  --modal-bg: #ccccccaa;
  --warning-bg: #fef08a;
  --code-bg: var(--text-bg);
  --code-fg: var(--text-fg);
  --code-keyword: #BB3B13;
  --code-string:  #d52753;
  --code-number:  #8A1060;
  --code-module:  #8A1060;
  --code-field:   #9C1BD6;
  --code-constructor: #207B1D;
  --code-highlight: #F5DEB3;
  --search-selected: #e2e8f0;
  --details-summary: #b2ebf2;
  --details-open:    #80deea;
  --depgraph-edge: #eee;
  --blockquote-bg: #d8b4fe; }

.diagram-dark {
  display: none !important; }

@media (prefers-color-scheme: dark) {
  :root {
    --text-bg: #282C34;
    --text-fg: #bfbfbf;
    --shadow: #475569;
    --primary: #61AFEF;
    --secondary: #C878DD;
    --modal-bg: #282C34aa;
    --warning-bg: #991b1b;
    --code-keyword:     #E5C07B;
    --code-string:      #E06C75;
    --code-number:      #98C379;
    --code-module:      #56B6C2;
    --code-field:       #C878DD;
    --code-constructor: #98C379;
    --code-highlight: #ef444499;
    --search-selected: #474e5e;
    --details-summary: #5b21b6;
    --details-open:    #4c1d95;
    --depgraph-edge: #474e5e;
    --blockquote-bg: #475569; }
  div.warning {
    --shadow: #7f1d1d
  ; }
  input {
    background-color: #334155;
    border: 1px solid #475569;
    color: var(--text-fg); }
  body {
    scrollbar-color: #3b4454 #2b2e33; }
  .diagram-dark {
    display: block !important; }
  .diagram-light {
    display: none !important; } }

table {
  margin: auto;
  border-collapse: collapse; }
  table td, table th {
    text-align: center;
    padding: 0px 1em 0px 1em;
    border: 1px solid black; }
  table th {
    border-bottom: 2px solid black; }
  table td {
    white-space: nowrap; }

html { max-width: 100%; }

body {
  font-family: "Inria Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  width: 100%;
  font-size: var(--font-size);
  overflow-x: clip;
  background-color: var(--text-bg);
  color: var(--text-fg);
}

div#post-toc-container { max-width: 120ch; margin: auto; }

article a[href], div#return > a[href], div#top > a[href], aside#toc > div#toc-container ul a[href] {
  color: var(--primary);
  text-decoration: none; }
  article a[href]:hover, div#return > a[href]:hover, div#top > a[href]:hover, aside#toc > div#toc-container ul a[href]:hover {
    text-decoration: 2px currentColor underline !important; }
  article a[href]:visited, div#return > a[href]:visited, div#top > a[href]:visited, aside#toc > div#toc-container ul a[href]:visited {
    color: var(--secondary); }

/* Aspects. */
.Agda {
  /* NameKinds. */
  /* OtherAspects. */
  /* Standard attributes. */
  font-family: 'iosevka', 'Iosevka', 'Fantasque Sans Mono', 'Roboto Mono', monospace;
  font-weight: 400; }
  .Agda .Comment {
    color: var(--code-fg);
    font-style: italic; }
  .Agda .Background {
    background-color: var(--code-bg); }
  .Agda .Markup {
    color: var(--code-fg); }
  .Agda .Keyword {
    color: var(--code-keyword); }
  .Agda .String {
    color: var(--code-string); }
  .Agda .Number {
    color: var(--code-number); }
  .Agda .Symbol {
    color: var(--code-fg); }
  .Agda .PrimitiveType {
    color: var(--primary); }
  .Agda .Pragma {
    color: var(--code-fg); }
  .Agda .Bound {
    color: var(--code-fg) !important; }
  .Agda .Generalizable {
    color: var(--code-fg) !important; }
  .Agda .InductiveConstructor {
    color: var(--code-constructor) !important; }
  .Agda .CoinductiveConstructor {
    color: var(--code-constructor) !important; }
  .Agda .Datatype {
    color: var(--primary) !important; }
  .Agda .Field {
    color: var(--code-field) !important; }
  .Agda .Function {
    color: var(--primary) !important; }
  .Agda .Module {
    color: var(--code-module) !important; }
  .Agda .Postulate {
    color: var(--primary) !important; }
  .Agda .Primitive {
    color: var(--primary) !important; }
  .Agda .Record {
    color: var(--primary) !important; }
  .Agda .UnsolvedMeta {
    color: var(--code-fg);
    background: yellow; }
  .Agda .UnsolvedConstraint {
    color: var(--code-fg);
    background: yellow; }
  .Agda .TerminationProblem {
    color: var(--code-fg);
    background: #FFA07A; }
  .Agda .IncompletePattern {
    color: var(--code-fg);
    background: #F5DEB3; }
  .Agda .Error {
    color: red;
    text-decoration: underline; }
  .Agda .TypeChecks {
    color: var(--code-fg);
    background: #ADD8E6; }
  .Agda .ShadowingInTelescope {
    color: var(--code-fg);
    background: #808080; }
  .Agda .Deadcode {
    color: var(--code-keyword);
    font-weight: bold; }
  .Agda a {
    text-decoration: none; }
  .Agda a[href]:hover {
    text-decoration: 2px var(--primary) underline; }
  .Agda a[href]:target {
    animation: highlight 2.5s; }
  body.text-page .Agda {
    font-size: var(--code-font-size); }

pre.Agda, div.sourceCode, pre {
  border-radius: 0;
  box-shadow: none;
  overflow-y: clip;
  margin: 0;
  padding: 1em;
  padding-top: 0.25em;
  padding-bottom: 0.25em;
  background-color: var(--code-bg);
  color: var(--code-fg);
  font-size: var(--code-font-size);
  max-width: 100%;
  overflow-x: auto;
}
</style>
</html>
